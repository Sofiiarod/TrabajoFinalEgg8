<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>Scire - Registrarse</title>

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
	integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
	crossorigin="anonymous">

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">

<link rel="preconnect" href="https://font.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Lora&family=Yaldevi:wght@300&display=swap">

<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
	integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
	integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
	crossorigin="anonymous"></script>

<style>
.bg-register-image {
	background-size: cover;
}

img {
	margin-left:10%;
	margin-top: 20%; background-size : center;
	width: 90%;
	height: 50%;
/* 	background-size: center; */
}

.form-control-plaintext{
	padding:5px;
	border:2px solid lightgray;
	border-radius:5px;
}
.col-form-label{
	padding:2px;
	text-align:center;
	font-size:15px;
}
.estilolabel2{
	padding-top:5px;
}
.estilolabel{
	padding-top:7px;
/* 	padding-bottom:10px; */
}
body {
	background-color: #e5d4c0;
}

h1, a {
	font-family: 'Lora', serif;
}
label{
	font-family: inherit;
}
p {
	font-family: 'Yaldevi', sans-serif;
}
</style>


</head>

<body>

	<div class="container">
		<div class="card o-hidden border-0 shadow-lg my-5">
			<div class="card-body p-0">
				<!-- Nested Row within Card Body -->
				<div class="row">
					<div class="col-lg-5 d-none d-lg-block bg-register-image">
						<img th:if="${perfil.foto != null}"  class="rounded-circle"
							th:src="${'/foto/usuario?id=' + perfil.id}" alt="">
						<img th:if="${perfil.foto == null}" class="rounded-circle" th:src="/img/OIP.jpeg" alt="">
					</div>
					<div class="col-lg-7">
						<div class="p-5">
							<div class="text-center">
								<b><h1 class="h4 mb-4">Editar perfil</h1></b>
							</div>

							<!-- Inicio Mensajes emergentes -->
							<div th:if="${exito}!=null"
								class="card text-white bg-success mb-3">
								<div class="card-body">
									<h5 class="card-title">Exito</h5>
									<p class="card-text" th:text="${exito}"></p>
								</div>
							</div>
							<div th:if="${error}!=null"
								class="card text-white bg-danger mb-3">
								<div class="card-body">
									<h5 class="card-title">Error</h5>
									<p class="card-text" th:text="${error}"></p>
								</div>
							</div>
							<!-- Fin Mensajes emergentes -->
							<form class="user" th:action="@{/usuario/actualizar-perfil}"
								method="POST" enctype="multipart/form-data">

								<div class="form-group">
									<input type="hidden" name="id" th:value="${perfil.id}">
									<div class="mb-3 row">
										<label for="nombre" class="col-sm-2 col-form-label estilolabel2 font-weight-bold
										">Nombre</label>
										<div class="col-sm-10">
											<input type="text" class="form-control-plaintext"
												id="nombre" name="nombre" th:value="${perfil.nombre}">
										</div>
									</div>
									<div class="mb-3 row">
										<label for="apellido" class="col-sm-2 col-form-label estilolabel font-weight-bold
										">Apellido</label>
										<div class="col-sm-10">
											<input type="text" class="form-control-plaintext"
												id="nombre" name="apellido" th:value="${perfil.apellido}">
										</div>
									</div>
									<input type="hidden" class="form-control" name="email" th:value="${perfil.email}">
<!-- 									<div class="mb-3 row"> -->
<!-- 										<label for="foto" class="col-sm-2 col-form-label estilolabel font-weight-bold -->
<!-- 										">Foto</label> -->
<!-- 										<div class="col-sm-10"> -->
<!-- 											<input type="file" class="form-control-plaintext border border-white" -->
<!-- 												id="foto" name="archivo"> -->
<!-- 										</div> -->
<!-- 									</div> -->
									<div class="mb-3 row">
										<label for="clave" class="col-sm-2 col-form-label font-weight-bold
										">Clave</label>
										<div class="col-sm-10">
											<input type="text" class="form-control-plaintext"
												id="clave" name="clave" th:value="${clave}">
										</div>
									</div>
									<div class="mb-3 row">
										<label for="clave2" class="col-sm-2 col-form-label font-weight-bold 
										">Repetir clave</label>
										<div class="col-sm-10">
											<input type="text" class="form-control-plaintext"
												id="clave2" name="clave2">
										</div>
									</div>
								</div>
								<button type="submit" class="btn btn-primary btn-user btn-block">Actualizar perfil</button>
								<a th:href="@{/usuario/perfil(id=__${session.usuariosession.id}__)}" class="btn btn-success btn-user btn-block">Volver</a>

							</form>
							<hr>
							<div class="text-center">
								<a th:href="@{/usuario/editar-foto(id=__${session.usuariosession.id}__)}" class="btn btn-outline-dark">Editar Foto</a>
							</div>
							<div class="text-center">
								<a class="small" href="#" th:href="@{/usuario/recuperar}">¿Olvidaste
									tu contraseña?</a>
							</div>
							<div class="text-center">
								<a class="small" href="#" th:href="@{/login}">¿Ya tienes una
									cuenta? Entrar</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

</body>

</html>